<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Love Note For You</title>
  <link rel="stylesheet" href="notestyle.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
  <div class="container">

    <!-- Cảnh mở đầu: mèo + cây + trái tim -->
    <section id="scene">
      <div class="heart"><div class="heart-fill" id="heartFill"></div></div>
      <div class="hint" id="hint">👉 Click mèo để bắt đầu</div>
      <div id="progress-bar"><div id="progress-fill"></div></div>
      <div class="ground">
        <i class="fa-solid fa-cat" id="cat"></i>
        <i class="fa-solid fa-tree" id="tree"></i>
      </div>
    </section>

    <!-- Hai bức thư -->
    <section id="letters">
      <h2 class="letter-title">💖 Bức Thư Yêu Thương 💖</h2>
      <div class="letters-grid">
        <details class="letter-card">
          <summary>📩 Lời chúc của Mèo <i class="fa-solid fa-chevron-down"></i></summary>
          <p>
            Em à, mỗi ngày bên em là một món quà nhỏ: một tin nhắn giản dị,
            một cái nắm tay, một ánh nhìn hiểu nhau không cần nói. <br><br>
            Anh hứa sẽ kiên nhẫn khi bão giông kéo đến, sẽ vui cùng em khi nắng lên,
            và sẽ cùng em xây những kế hoạch nho nhỏ rồi biến chúng thành kỷ niệm thật to. <br><br>
            Anh yêu em theo cách bình lặng nhưng bền bỉ – như nhịp tim mà mỗi ngày anh
            vẫn dành cho em. 💕
          </p>
        </details>
        <details class="letter-card">
          <summary>🌸 Lời chúc của Mộc <i class="fa-solid fa-chevron-down"></i></summary>
          <p>
            Anh thương, cảm ơn anh vì đã kiên nhẫn lắng nghe, vì những cái ôm rất chặt
            khi em yếu lòng. <br><br>
            Em chúc anh giữ vững trái tim ấm áp, đôi mắt sáng và sự bền bỉ theo đuổi ước mơ.
            Có khó khăn, mình cùng nhau tháo gỡ; có niềm vui, mình cùng nhau lưu giữ. <br><br>
            Yêu anh – hôm nay, ngày mai, và cả những ngày rất xa. 🌹
          </p>
        </details>
      </div>
    </section>
  </div>

  <script>
    const cat = document.getElementById('cat');
    const tree = document.getElementById('tree');
    const heartFill = document.getElementById('heartFill');
    const progressFill = document.getElementById('progress-fill');
    const hint = document.getElementById('hint');
    const scene = document.getElementById('scene');
    const letters = document.getElementById('letters');

    let running = false;

    cat.addEventListener('click', () => {
      if (running) return;
      running = true;
      hint.style.opacity = '0';

      const startX = cat.offsetLeft;
      const endX = tree.offsetLeft;
      const distance = endX - startX;
      let progress = 0;

      function animate() {
        progress += 2;
        cat.style.left = startX + (distance * progress / 100) + "px";
        progressFill.style.width = progress + "%";
        heartFill.style.clipPath = `inset(${100 - progress}% 0 0 0)`;

        if (progress < 100) {
          requestAnimationFrame(animate);
        } else {
          scene.classList.add('fade-out');
          setTimeout(() => letters.classList.add('visible'), 900);
        }
      }
      animate();
    });
  </script>
</body>
</html>
