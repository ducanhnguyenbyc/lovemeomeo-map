/* Reset */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#fde2e4,#fad2e1);
  display:flex;align-items:center;justify-content:center;
  height:100vh;overflow:hidden;
}
.container{width:100%;height:100%;position:relative;perspective:1000px}

/* ========== Scene ========== */
#scene{
  display:flex;flex-direction:column;align-items:center;gap:14px;
  transition:opacity .8s ease,transform .8s ease;
}
#scene.fade-out{opacity:0;transform:scale(.9);pointer-events:none}

/* Heart */
.heart{width:100px;height:100px;transform:rotate(-45deg);position:relative}
.heart::before,.heart::after{
  content:"";position:absolute;width:100px;height:100px;border-radius:50%;background:#ffcdd2
}
.heart::before{top:-50px;left:0}
.heart::after{top:0;left:50px}
.heart-fill{position:absolute;inset:0;background:#e57373;clip-path:inset(100% 0 0 0);transition:clip-path .2s}

/* Hint */
.hint{color:#444;animation:blink 1.2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.5}}

/* Progress bar */
#progress-bar{width:200px;height:18px;border:2px solid #e57373;border-radius:10px;overflow:hidden}
#progress-fill{width:0;height:100%;background:#ef9a9a;transition:width .2s}

/* Ground: mèo + cây */
.ground{position:relative;width:90%;height:160px;border-top:3px solid rgba(0,0,0,.1)}
#cat{position:absolute;bottom:0;left:20px;font-size:64px;cursor:pointer;transition:transform .2s}
#cat:active{transform:translateY(-3px)}
#tree{position:absolute;bottom:0;right:10%;font-size:100px;color:#2e7d32}

/* ========== Letters ========== */
#letters{
  position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;
  opacity:0;transform:translateY(20px) rotateX(10deg);transition:all .8s ease;
  pointer-events:none;text-align:center;padding:20px
}
#letters.visible{opacity:1;transform:translateY(0) rotateX(0);pointer-events:auto}
.letter-title{font-family:'Pacifico',cursive;color:#d16370;margin-bottom:20px}

/* Grid */
.letters-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;max-width:880px;width:100%}

/* Card */
.letter-card{
  background:#fff;border-radius:14px;box-shadow:0 8px 20px rgba(0,0,0,.15);
  overflow:hidden;transition:transform .3s;transform-style:preserve-3d
}
.letter-card:hover{transform:rotateY(5deg) rotateX(3deg) scale(1.02)}
.letter-card summary{
  padding:14px 16px;background:#f06292;color:#fff;font-family:'Pacifico',cursive;
  display:flex;align-items:center;justify-content:space-between;cursor:pointer;list-style:none
}
.letter-card summary::-webkit-details-marker{display:none}
.letter-card p{padding:16px;background:#fffde7;color:#333;line-height:1.7}

/* Mobile */
@media(max-width:640px){
  #tree{right:8%;font-size:90px}
  #cat{font-size:56px;left:12px}
}
